# DocSwap Production Environment Configuration - Optimized
# Copy this file to .env on your production server and update ALL values

# ============================================================================
# FLASK CONFIGURATION
# ============================================================================
FLASK_ENV=production
FLASK_DEBUG=False

# Generate a secure secret key using: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_64_CHARACTERS_LONG_IMMEDIATELY

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
HOST=0.0.0.0
PORT=5000

# ============================================================================
# SUPABASE CONFIGURATION
# Get these from: https://supabase.com → Your Project → Settings → API
# ============================================================================

# Your Supabase project URL (format: https://xxxxx.supabase.co)
SUPABASE_URL=https://YOUR_PROJECT_ID.supabase.co

# Service Role Key (secret key - keep this secure!)
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.YOUR_SERVICE_KEY_HERE

# Anon/Public Key (safe to expose in frontend)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.YOUR_ANON_KEY_HERE

# JWT Secret (from Supabase Settings → API → JWT Settings)
SUPABASE_JWT_SECRET=YOUR_JWT_SECRET_HERE

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Replace with your actual domain(s) - NO trailing slashes
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Rate limiting (requests per minute per IP)
RATE_LIMIT_PER_MINUTE=30

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================

# Maximum file size in bytes (100MB = 104857600, 50MB = 52428800)
MAX_FILE_SIZE=104857600

# File expiry time in seconds (1 hour = 3600, 24 hours = 86400)
FILE_EXPIRY=3600

# ============================================================================
# ADMIN PORTAL CONFIGURATION
# ============================================================================

# CHANGE THESE CREDENTIALS IMMEDIATELY!
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_THIS_TO_A_VERY_SECURE_PASSWORD_NOW

# Session timeout in seconds (1 hour = 3600)
ADMIN_SESSION_TIMEOUT=3600

# Admin secret key for sessions
ADMIN_SECRET_KEY=CHANGE_THIS_TO_A_SECURE_ADMIN_SECRET_KEY

# ============================================================================
# PRODUCTION OPTIMIZATIONS
# ============================================================================

# Python optimizations
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# Gunicorn worker configuration
WEB_CONCURRENCY=4
WORKER_TIMEOUT=300
WORKER_CLASS=gevent
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=INFO
LOG_FILE_PATH=/var/log/docswap/app.log

# ============================================================================
# DIRECTORIES
# ============================================================================
UPLOADS_DIR=./uploads
OUTPUT_DIR=./output

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Memory limits
MEMORY_LIMIT_MB=512

# Conversion timeouts
CONVERSION_TIMEOUT=300

# Cache settings
ENABLE_CACHING=true
CACHE_TIMEOUT=3600

# ============================================================================
# MONITORING
# ============================================================================
ENABLE_METRICS=true
METRICS_ENDPOINT=/metrics

# ============================================================================
# DEPLOYMENT NOTES:
# ============================================================================
# 1. Generate a secure SECRET_KEY: python -c "import secrets; print(secrets.token_hex(32))"
# 2. Set up your Supabase project and get the credentials
# 3. Replace yourdomain.com with your actual domain
# 4. Change all default passwords and keys
# 5. Ensure your server has all required system dependencies installed
# 6. Test the configuration before going live